<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="/static/3.3.7/css/bootstrap.css">
    <link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.css">
</head>
<body>

<div class="container">
    <div class="page-header">
        <h1>删除书籍</h1>
    </div>
    <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
             style="width: 10%;">正在删除: 10%
        </div>
    </div>
    <script>
        now_width = 10;
        var setObj;

        setObj = setInterval(function () {
                            console.log('123')
            if (now_width < 100) {

                now_width = now_width + 1
                $($('div[class="progress"]').children()[0]).css('min-width', now_width + '%')
                $($('div[class="progress"]').children()[0]).text('正在删除' + now_width + '%')
            } else {
                $($('div[class="progress"]').children()[0]).text('删除完成, 3S后跳转回书籍列表')
                console.log('456')
                setTimeout(function () {
                    location.href = '/book_list/'
                }, 3000)
                clearInterval(setObj)
            }
        }, 10)

    </script>
</div>
</body>
</html>